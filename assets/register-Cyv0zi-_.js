import{o as u,a as s,c as y,b as f,s as g,d as h}from"./scriptFirebase-Chl6wdre.js";const E=document.getElementById("formEmail"),v=document.getElementById("formPassword"),p=document.getElementById("formUsername"),d=document.getElementById("formButton"),m=document.getElementById("formButtonSwitch"),n=document.getElementById("formFieldUsername"),c=document.getElementById("formAlert");let r=!0;u(s,e=>{console.log(e?`User signed in (${e.uid})`:"No user")});d.addEventListener("click",()=>{const e=E.value,o=v.value;w(e,o)&&(r?(p.value,y(s,e,o).then(t=>{const l=t.user;f(l).then(()=>{i("Confirm your email before you login"),console.log("Email verification sent")}).catch(a=>{console.log(a.message)}),g(s)}).catch(t=>{console.log(t.message)})):h(s,e,o).then(t=>{const l=t.user;l.emailVerified?window.location.href="index.html":(f(l).then(()=>{i("Confirm your email before you login"),console.log("Email verification sent")}).catch(a=>{console.log(a.message)}),g(s))}).catch(t=>{console.log(t.message)}))});m.addEventListener("click",()=>{r=!r,r?(d.firstElementChild.textContent="Register",m.textContent="Already have an account? Login",n.style.opacity="1",n.style.visibility="visible",n.style.position="relative"):(d.firstElementChild.textContent="Login",m.textContent="Don't have an account? Register",n.style.opacity="0",n.style.visibility="hidden",n.style.position="absolute")});function w(e,o){const t=new Set(o);return o.length<8?(console.log("Short password"),i("Min length of password - 8"),!1):t.size<=o.length/3?(console.log("Too many repeating symbols"),i("Too many repeating symbols"),!1):e==""?(console.log("Enter email"),i("Email field is empty"),!1):!0}function i(e){c.style.display="block",c.firstElementChild.textContent=e,setTimeout(()=>{c.style.display="none"},5e3)}
