import"./scriptFirebase-hJC3Qs-N.js";import{U as p,m as F}from"./script-ChCGSNhL.js";const J=document.getElementById("wheelWindowImage"),C=document.getElementById("wheelWindowSpin"),b=document.getElementById("wheelWindowGameResult"),Y=document.getElementById("wheelWindowGameResultColor"),V=document.getElementById("wheelWindowGameResultProfit"),d=[document.getElementById("bet1"),document.getElementById("bet2"),document.getElementById("bet3"),document.getElementById("bet4"),document.getElementById("bet5")],S=[1,5,10,20,50],g=document.getElementById("wheelBetCustom"),c=[document.getElementById("redButton"),document.getElementById("blackButton"),document.getElementById("yellowButton"),document.getElementById("greenButton")],W=["red","black","yellow","green"],B={red:2,black:2,yellow:5,green:10},q=document.getElementById("possibleWinText"),u=document.getElementById("wheelHistoryContainer"),h=document.getElementById("wheelLastGamesContainer"),K=24,j=24;let v=window.localStorage.getItem("historyArray");const w=v!=null?JSON.parse(v):[];let A=window.localStorage.getItem("lastGamesArray");const E=A!=null?JSON.parse(A):[],I={red:"FF4B4B",black:"181818",yellow:"DEC84A",green:"56D86A"},R="9E5C5C",P="5C9E5E";let T=window.localStorage.getItem("wheelStatisticks");const n=T!=null?JSON.parse(T):{totalSpins:0,totalWins:0,totalMoneyBet:0,totalMoneyWon:0,winPercentage:0,moneyProfit:0,redChoosed:0,redWon:0,blackChoosed:0,blackWon:0,yellowChoosed:0,yellowWon:0,greenChoosed:0,greenWon:0},o={totalSpins:document.getElementById("totalSpins"),totalWins:document.getElementById("totalWins"),totalMoneyBet:document.getElementById("totalMoneyBet"),totalMoneyWon:document.getElementById("totalMoneyWon"),winPercentage:document.getElementById("winPercentage"),moneyProfit:document.getElementById("moneyProfit"),redChoosed:document.getElementById("redChoosed"),redWon:document.getElementById("redWon"),blackChoosed:document.getElementById("blackChoosed"),blackWon:document.getElementById("blackWon"),yellowChoosed:document.getElementById("yellowChoosed"),yellowWon:document.getElementById("yellowWon"),greenChoosed:document.getElementById("greenChoosed"),greenWon:document.getElementById("greenWon")};let l=0,m="",r=0,a=0,M=0;ee();te();C.disabled=!0;C.addEventListener("click",()=>{O(!0),p(-l),a=4+Math.random()*4,M=Math.random()<.5?1:-1,_(),n.totalSpins+=1,o.totalSpins.textContent=n.totalSpins,n.totalMoneyBet+=l,o.totalMoneyBet.textContent=`${n.totalMoneyBet} $`;for(let e of W)if(m==e){const t=e+"Choosed";n[t]+=1,o[t].textContent=n[t];break}U()});for(let e=0;e<d.length;e++)d[e].addEventListener("click",()=>{l=S[e],C.textContent=`Spin ${l} $`,G(!1),$()});g.addEventListener("blur",()=>{G(!0),$()});for(let e=0;e<c.length;e++)c[e].addEventListener("click",()=>{for(let t of c)t.disabled=!1,t.classList.remove("active");c[e].disabled=!0,c[e].classList.add("active"),m=W[e],$()});function O(e){C.disabled=e;for(let t of d)t.disabled=e;g.disabled=e;for(let t of c)t.disabled=e;if(!e){for(let t=0;t<d.length;t++)if(S[t]==l){d[t].disabled=!0;break}for(let t=0;t<c.length;t++)if(W[t]==m){c[t].disabled=!0;break}}}function G(e){e&&(l=parseInt(g.value),l=l>=.5?l:.5,C.textContent=`Spin ${l} $`),g.placeholder=`Your bet - ${l} $`,g.value="";let t=!0;for(let s=0;s<d.length;s++)S[s]==l?(d[s].disabled=!0,d[s].classList.add("active"),t=!1):(d[s].disabled=!1,d[s].classList.remove("active"));t?g.classList.add("active"):g.classList.remove("active")}function $(){l!=0&&m!=""&&(q.textContent=`Possible win - ${l*B[m]} $`,F>=l?C.disabled=!1:C.disabled=!0)}function _(){if(r=(r+a*M)%360,J.style.transform=`rotate(${r}deg)`,a>3?a-=Math.random()*.025:a>2?a-=Math.random()*.02:a>1?a-=Math.random()*.015:a>.5?a-=Math.random()*.01:a-=Math.random()*.004,a<=0){r=r>=0?r:r+360,a=0,M=0,console.log(`Final angle is ${r}`);const e=X(r),t=m==e;z(e,t),O(!1),Q(e,t)}else setTimeout(_,10)}function z(e,t){const s=t?P:R;b.style.display="flex",b.style.background=`linear-gradient(#${s} 5%, #${s}77)`,Y.textContent=`${e.charAt(0).toUpperCase()}${e.slice(1)} x${B[e]}`,V.textContent=t?`+ ${l*(B[e]-1)} $`:`- ${l} $`,setTimeout(()=>{b.style.display="none"},5e3)}function Q(e,t){if(t){const i=l*B[e];p(i),n.totalWins+=1,o.totalWins.textContent=n.totalWins,n.totalMoneyWon+=i,o.totalMoneyWon.textContent=`${n.totalMoneyWon} $`;for(let f of W)if(f==e){const y=f+"Won";n[y]+=1,o[y].textContent=n[y];break}}w.length==0&&u.lastElementChild.remove(),u.innerHTML=N(e)+u.innerHTML,w.push(e)>K&&(u.lastElementChild.remove(),w.shift()),E.length==0&&h.lastElementChild.remove(),h.innerHTML=H(l,t,m,e)+h.innerHTML;const s={MONEY_BEFORE:l,COLOR_USER:m,COLOR_FINAL:e};E.push(s)>j&&(h.lastElementChild.remove(),E.shift()),Z(),n.winPercentage=n.totalWins/n.totalSpins,o.winPercentage.textContent=`${Math.round(n.winPercentage*1e3)/10}%`,n.moneyProfit=n.totalMoneyWon-n.totalMoneyBet,o.moneyProfit.textContent=`${n.moneyProfit} $`,U()}function X(e){let t,s=1/0;for(let L=0;L<=360;L+=9){const x=Math.abs(e-L);x<s&&(s=x,t=L%360)}t-=180,t<0&&(t+=360),console.log(`Nearest degree is ${t}`);let i;const f=0,y=[45,180,225],k=[9,27,63,81,99,117,135,153,171,189,207,243,261,279,297,315,333,351],D=[18,36,54,72,90,108,126,144,162,198,216,234,252,270,288,306,324,342];return t==f?i="green":y.includes(t)?i="yellow":k.includes(t)?i="black":D.includes(t)&&(i="red"),console.log(`Final color is ${i}`),i}function H(e,t,s,i){const f=t?P:R,y=t?e*B[i]:0;return`     <div class="wheelLastGameCard" style="background: #${f};">         <div class="wheelLastGameCardInfoContainer">             <h6 style="width: 100%; height: 40px; text-align: center; line-height: 40px;">${e} $</h6>             <div class="wheelLastGameCardColorInfo" style="background: #${I[s]};"></div>         </div>         <img class="wheelLastGameCardInfoContainer" src="shared-assets/images/ArrowSign.png" style="height: 40px;" />         <div class="wheelLastGameCardInfoContainer">             <h5 style="width: 100%; height: 40px; text-align: center; line-height: 40px;">${y} $</h5>             <div class="wheelLastGameCardColorInfo" style="background: #${I[i]};"></div>         </div>     </div>     `}function N(e){return`
    <div class="wheelHistoryElement" style="background: #${I[e]}"></div>
    `}function Z(){window.localStorage.setItem("historyArray",JSON.stringify(w)),window.localStorage.setItem("lastGamesArray",JSON.stringify(E))}function U(){window.localStorage.setItem("wheelStatisticks",JSON.stringify(n))}function ee(){if(w.length!=0){u.lastElementChild.remove();for(let e of w)u.innerHTML=N(e)+u.innerHTML}if(E.length!=0){h.lastElementChild.remove();for(let e of E)h.innerHTML=H(e.MONEY_BEFORE,e.COLOR_USER==e.COLOR_FINAL,e.COLOR_USER,e.COLOR_FINAL)+h.innerHTML}}function te(){o.totalSpins.textContent=n.totalSpins,o.totalWins.textContent=n.totalWins,o.totalMoneyBet.textContent=`${n.totalMoneyBet} $`,o.totalMoneyWon.textContent=`${n.totalMoneyWon} $`,o.winPercentage.textContent=`${Math.round(n.winPercentage*1e3)/10}%`,o.moneyProfit.textContent=`${n.moneyProfit} $`,o.redChoosed.textContent=n.redChoosed,o.redWon.textContent=n.redWon,o.blackChoosed.textContent=n.blackChoosed,o.blackWon.textContent=n.blackWon,o.yellowChoosed.textContent=n.yellowChoosed,o.yellowWon.textContent=n.yellowWon,o.greenChoosed.textContent=n.greenChoosed,o.greenWon.textContent=n.greenWon}document.getElementById("debugButton1").addEventListener("click",()=>{window.localStorage.clear(),window.location.reload()});document.querySelector("#debugButton2").addEventListener("click",()=>{p(100)});
